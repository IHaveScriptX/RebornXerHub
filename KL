Version = "beta 0.4.3"

function loadcheck()
    local fileName = "RebornXer Hub King Legacy V2 [" .. game.Players.LocalPlayer.Name .. "].json"
    

    if not isfile(fileName) then
        writefile(fileName, game:GetService("HttpService"):JSONEncode(_G.SST))
        return
    end
end

pcall(function()
    _G.SST = {Select_Weapon = "Melee", Select_Method = "Upper" ,DistanceMob = "10" , DistanceAura = "1000"}
end)


function LoadSetting()
    local fileName = "RebornXer Hub King Legacy V2 [" .. game.Players.LocalPlayer.Name .. "].json"
    if isfile(fileName) then
        local fileContent = readfile(fileName)
        local success, decoded = pcall(function()
            return game:GetService("HttpService"):JSONDecode(fileContent)
        end)
        
        if success then
            _G.SST = decoded
        end
    else
        SS()
    end
end

function SS()
    local fileName = "RebornXer Hub King Legacy V2 [" .. game.Players.LocalPlayer.Name .. "].json"
    
    if isfile(fileName) then
        writefile(fileName, game:GetService("HttpService"):JSONEncode(_G.SST))
    else
        loadcheck()
    end
end

loadcheck()
LoadSetting()
  
    local OCui = game.CoreGui:FindFirstChild("RebormXerOC")
    if OCui then
        OCui:Destroy()
    end
    
    local RebornXer = Instance.new("ScreenGui")
    local Open = Instance.new("TextButton")
    local fuckshit = Instance.new("UICorner")
    local MODILEMAGE = Instance.new("ImageLabel")
    local posto = Instance.new("UIStroke")
    
    local ScreenGui = Instance.new("ScreenGui")
    local ImageButton = Instance.new("ImageButton")
    
    -- กำหนดค่าเริ่มต้น
    ScreenGui.Parent = game.CoreGui
    ScreenGui.Name = "RebormXerOC"
    ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
    
    ImageButton.Parent = ScreenGui
    ImageButton.Name = "Open/CloseUi"
    ImageButton.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    ImageButton.BorderSizePixel = 0
    ImageButton.Position = UDim2.new(0.1, 0, 0.1, 0)
    ImageButton.Size = UDim2.new(0, 45, 0, 45)
    ImageButton.Draggable = true
    ImageButton.Image = "rbxassetid://108287073891881"
    
    -- ฟังก์ชันสำหรับการคลิก
    local TweenService = game:GetService("TweenService")
    ImageButton.MouseButton1Click:Connect(function()
        local ui = game:GetService("CoreGui"):FindFirstChild("RebornXer Hub") -- ค้นหา UI
        if ui and ui:FindFirstChild("Main") then -- ตรวจสอบว่ามี "Main" อยู่ใน UI
            local main = ui.Main
            if main.Size.X.Offset == 600 and main.Size.Y.Offset == 400 then
                local tween = TweenService:Create(
                    main,
                    TweenInfo.new(0.20, Enum.EasingStyle.Sine, Enum.EasingDirection.In), -- กำหนดเวลา 0.35 วินาที
                    {Size = UDim2.new(0, 0, 0, 0)}
                )
                tween:Play() -- เล่น Tween
            else
                local tween = TweenService:Create(
                    main,
                    TweenInfo.new(0.20, Enum.EasingStyle.Sine, Enum.EasingDirection.Out), -- กำหนดเวลา 0.35 วินาที
                    {Size = UDim2.new(0, 600, 0, 400)}
                )
                tween:Play() -- เล่น Tween
            end
        end
    end)
    
    
    fuckshit.Parent = Open
    
     MODILEMAGE.Name = "MODILEMAGE"
     MODILEMAGE.Parent = Open
     MODILEMAGE.BackgroundColor3 = Color3.fromRGB(51,255,255)
     MODILEMAGE.BackgroundTransparency = 1.000
     MODILEMAGE.BorderSizePixel = 0
     MODILEMAGE.Position = UDim2.new(0, 0.5, 0, 0)
     MODILEMAGE.Size = UDim2.new(0, 38, 0, 31)
     MODILEMAGE.Image = "rbxassetid://"
     
    posto.Name = "posto"
     posto.Parent = Open
     posto.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
     posto.Color = Color3.fromRGB(51,255,255)
     posto.LineJoinMode = Enum.LineJoinMode.Round
     posto.Thickness = 1
     posto.Transparency = 0
     posto.Enabled = true
     posto.Archivable = true
    
    
    
     _G.WindowBackgroundColor = Color3.fromRGB(0, 0, 0) -- พื้นหลังหน้าต่าง (ดำ)
     _G.BackgroundItemColor = Color3.fromRGB(30, 30, 30) -- พื้นหลังของไอเทม (ดำเข้ม)
     _G.TabWindowColor = Color3.fromRGB(20, 20, 20) -- สีแท็บหน้าต่าง (ดำเข้ม)
     _G.ContainerColor = Color3.fromRGB(40, 40, 40) -- สีคอนเทนเนอร์ (ดำเข้ม)
     _G.TitleTextColor = Color3.fromRGB(255, 255, 255) -- สีข้อความหัวเรื่อง (ขาว)
     _G.ImageColor = Color3.fromRGB(255, 255, 255) -- สีของรูปภาพ (ขาว)
     _G.LineThemeColor = Color3.fromRGB(255, 255, 255) -- สีเส้น (ขาว)
     _G.TabTextColor = Color3.fromRGB(255, 255, 255) -- สีข้อความในแท็บ (ขาว)
     _G.TabImageColor = Color3.fromRGB(255, 255, 255) -- สีรูปภาพในแท็บ (ขาว)
     _G.TabThemeColor = Color3.fromRGB(255, 255, 255) -- สีธีมของแท็บ (ขาว)
     _G.SectionColor = Color3.fromRGB(30, 30, 30) -- สีพื้นหลังของ Section (ดำเข้ม)
     _G.SectionImageColor = Color3.fromRGB(255, 255, 255) -- สีรูปภาพใน Section (ขาว)
     _G.SectionTextColor = Color3.fromRGB(255, 255, 255) -- สีข้อความใน Section (ขาว)
     _G.SectionOn = Color3.fromRGB(0, 255, 0) -- สีสถานะเปิดของ Section (เขียว)
     
    _G.Color1 = Color3.fromRGB(255,255,255)
    do local GUI = game.CoreGui:FindFirstChild("RebornXer Hub");if GUI then GUI:Destroy();end;if _G.Color == nil then
    _G.Color = Color3.fromRGB(255,255,255)
    end 
    end
    
    local tween = game:GetService("TweenService")
    local tweeninfo = TweenInfo.new
    local input = game:GetService("UserInputService")
    local run = game:GetService("RunService")
    local plr = game.Players.LocalPlayer
    local mouse = plr:GetMouse()
    
    local UserInputService = game:GetService("UserInputService")
    local TweenService = game:GetService("TweenService")
    
    local function MakeDraggable(topbarobject, object)
        local Dragging = nil
        local DragInput = nil
        local DragStart = nil
        local StartPosition = nil
    
        local function Update(input)
            local Delta = input.Position - DragStart
            local pos = UDim2.new(StartPosition.X.Scale, StartPosition.X.Offset + Delta.X, StartPosition.Y.Scale, StartPosition.Y.Offset + Delta.Y)
            local Tween = TweenService:Create(object, TweenInfo.new(0.15), {Position = pos})
            Tween:Play()
        end
    
        topbarobject.InputBegan:Connect(
            function(input)
                if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
                    Dragging = true
                    DragStart = input.Position
                    StartPosition = object.Position
    
                    input.Changed:Connect(
                        function()
                            if input.UserInputState == Enum.UserInputState.End then
                                Dragging = false
                            end
                        end
                    )
                end
            end
        )
    
        topbarobject.InputChanged:Connect(
            function(input)
                if
                    input.UserInputType == Enum.UserInputType.MouseMovement or
                    input.UserInputType == Enum.UserInputType.Touch
                then
                    DragInput = input
                end
            end
        )
    
        UserInputService.InputChanged:Connect(
            function(input)
                if input == DragInput and Dragging then
                    Update(input)
                end
            end
        )
    end
    
    local Update = {}
    
    function Update:AddWindow(name,logo,keybind)
        local uihide = false
        local abc = false
        local logo = logo or 0
        local currentpage = ""
        local keybind = keybind or Enum.KeyCode.RightControl
        local yoo = string.gsub(tostring(keybind),"Enum.KeyCode.","")
        
        local RebornXer_Hub = Instance.new("ScreenGui")
        RebornXer_Hub.Name = "RebornXer Hub"
        RebornXer_Hub.Parent = game.CoreGui
        RebornXer_Hub.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
    
    local osfunc = {}
     local osfunc2 = {}
        local Main = Instance.new("Frame")
        local WindowStrokemain = Instance.new("UIStroke")
        Main.Name = "Main"
        Main.Parent = RebornXer_Hub
        Main.ClipsDescendants = true
        Main.AnchorPoint = Vector2.new(0.5,0.5)
        Main.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
        Main.Position = UDim2.new(0.5, 0, 0.5, 0)
        Main.Size = UDim2.new(0, 0, 0, 0)
        
        WindowStrokemain.Name = "WindowStroke"
     WindowStrokemain.Parent = Main
     WindowStrokemain.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
     WindowStrokemain.Color = Color3.fromRGB(255,255,255)
     WindowStrokemain.LineJoinMode = Enum.LineJoinMode.Round
     WindowStrokemain.Thickness = 1
     WindowStrokemain.Transparency = 0
     WindowStrokemain.Enabled = true
     WindowStrokemain.Archivable = true
        
        Main:TweenSize(UDim2.new(0, 600, 0, 400),"Out","Quad",0,true)
    
        local MCNR = Instance.new("UICorner")
        MCNR.Name = "MCNR"
        MCNR.Parent = Main
    
        local Top = Instance.new("Frame")
        Top.Name = "Top"
        Top.Position = UDim2.new(0,0,0,4)
        Top.Parent = Main
        Top.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
        Top.Size = UDim2.new(0, 560, 0, 28)
    
    
    
        local Logo = Instance.new("ImageLabel")
        Logo.Name = "Logo"
        Logo.Parent = Top
        Logo.BackgroundColor3 = Color3.fromRGB(255,255,255)
        Logo.BackgroundTransparency = 1.000
        Logo.Position = UDim2.new(0, 9, 0, 1)
        Logo.Size = UDim2.new(0, 30, 0, 25)
        Logo.Image = "rbxassetid://"..tostring(logo)
    
        local Name = Instance.new("TextLabel")
        Name.Name = "Name"
        Name.Parent = Top
        Name.BackgroundColor3 = Color3.fromRGB(0,255,255)
        Name.BackgroundTransparency = 1.000
        Name.Position = UDim2.new(0.1, 0, 0, 0)
        Name.Size = UDim2.new(0, 80, 0, 27)
        Name.Font = Enum.Font.Code
        Name.RichText = true;
        Name.Text = name
        Name.TextColor3 = Color3.fromRGB(225, 225, 225)
        Name.TextSize = 15.000
    
    local LocalizationService = game:GetService("LocalizationService")
     local Players = game:GetService("Players")
     local player = Players.LocalPlayer
     local name = player.Name
     local result, code = pcall(function()
         return LocalizationService:GetCountryRegionForPlayerAsync(player)
     end)
     
    function osfunc:Refresh(textadd)
     ServerTime.Text = textadd
     end
     function osfunc2:Refresh(textadd2)
     ServerDate.Text = textadd2
     end
    
     
    local ListNof = Instance.new("Frame")
        local NofList = Instance.new("UIListLayout")
    
        ListNof.Name = "ListNof"
        ListNof.Parent = RebornXer_Hub
        ListNof.BackgroundColor3 = Color3.fromRGB(255,255,255)
        ListNof.BackgroundTransparency = 1.000
        ListNof.Position = UDim2.new(0.778017223, 0, -0.00217864919, 0)
        ListNof.Size = UDim2.new(0, 206, 0, 400)
    
        NofList.Name = "NofList"
        NofList.Parent = ListNof
        NofList.SortOrder = Enum.SortOrder.LayoutOrder
        NofList.VerticalAlignment = Enum.VerticalAlignment.Top
        
        function Update:Nof(txt,tine)
            spawn(function()
                local Nof1 = Instance.new("Frame")
                local Nof2 = Instance.new("Frame")
                local Nof3 = Instance.new("Frame")
                local NofLabel = Instance.new("TextLabel")
                local slidenof = Instance.new("Frame")
                local Slide2 = Instance.new("Frame")
    
                Nof1.Name = "Nof1"
                Nof1.Parent = ListNof
                Nof1.BackgroundColor3 = Color3.fromRGB(51,255,255)
                Nof1.BackgroundTransparency = 1.000
                Nof1.BorderSizePixel = 0
                Nof1.Size = UDim2.new(0, 206, 0, 83)
    
                Nof2.Name = "Nof2"
                Nof2.Parent = Nof1
                Nof2.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
                Nof2.BorderColor3 = Color3.fromRGB(0, 0, 0)
                Nof2.Position = UDim2.new(0, 0, 0.0120481923, 0)
                Nof2.Size = UDim2.new(0, 189, 0, 65)
                Instance.new("UICorner",Nof2)
                Instance.new("UICorner",slidenof)
                Instance.new("UICorner",Slide2)
    
    
                Nof3.Name = "Nof3"
                Nof3.Parent = Nof1
                Nof3.BackgroundColor3 = Color3.fromRGB(90, 90, 255)
                Nof3.BackgroundTransparency = 1
                Nof3.BorderSizePixel = 0
                Nof3.Position = UDim2.new(0, 0, 0.638554215, 0)
                Nof3.Size = UDim2.new(0, 189, 0, 7)
    
                NofLabel.Name = "NofLabel"
                NofLabel.Parent = Nof1
                NofLabel.BackgroundColor3 = Color3.fromRGB(51,255,255)
                NofLabel.BackgroundTransparency = 1.000
                NofLabel.BorderSizePixel = 0
                NofLabel.Position = UDim2.new(0, 0, 0.00463949936, 0)
                NofLabel.Size = UDim2.new(0, 188, 0, 52)
                NofLabel.ZIndex = 4
                NofLabel.Font = Enum.Font.Code
                NofLabel.TextColor3 = main_color or Color3.fromRGB(51,255,255)
                NofLabel.TextScaled = false
                NofLabel.TextSize = 18.000
                NofLabel.TextStrokeTransparency = 0.100
                NofLabel.TextTransparency = 0.100
                NofLabel.TextWrapped = true
                NofLabel.Text = txt or ""
    
                slidenof.Name = "slidenof"
                slidenof.Parent = Nof1
                slidenof.BackgroundColor3 = Color3.fromRGB(100, 100, 255)
                slidenof.BorderSizePixel = 0
                slidenof.Position = UDim2.new(0, 0, 0.638554215, 0)
                slidenof.Size = UDim2.new(0, 189, 0, 7)
    
                Slide2.Name = "Slide2"
                Slide2.Parent = Nof1
                Slide2.BorderSizePixel = 0
                Slide2.BackgroundColor3 = main_color or Color3.fromRGB(51,255,255)
                Slide2.BorderColor3 = Color3.fromRGB(0, 0, 0)
                Slide2.Position = UDim2.new(0, 0, 0.0120481923, 0)
                Slide2.Size = UDim2.new(0, 0, 0, 65)
                Slide2.ZIndex = 15
                Slide2.Visible = false
    
                tween:Create(slidenof,tweeninfo(tine or 2),{Size = UDim2.new(0, 0, 0, 7)}):Play()
                wait(tine or 2)
                Slide2.Visible = true
                tween:Create(Slide2,tweeninfo(0.2),{Size = UDim2.new(0, 190, 0, 65)}):Play()
                wait(0.2)
                tween:Create(Slide2,tweeninfo(0.2),{Size = UDim2.new(0, 0, 0, 65)}):Play()
                tween:Create(Nof3,tweeninfo(0.2),{Size = UDim2.new(0, 0, 0, 7)}):Play()
                tween:Create(NofLabel,tweeninfo(0.2),{Size = UDim2.new(0, 0, 0, 52)}):Play()
                tween:Create(Nof2,tweeninfo(0.2),{Size = UDim2.new(0, 0, 0, 65)}):Play()
                wait(0.2)
                Nof2.Visible = false
                game.Debris:AddItem(Nof1,0)
            end)
        end
    
     
    function Update:AddNotification(textdesc)
        local NotificationFrame = Instance.new("Frame")
        local OkayBtn = Instance.new("TextButton")
        local OkayBtnCorner = Instance.new("UICorner")
        local NotificationTitle = Instance.new("TextLabel")
        local NotificationDesc = Instance.new("TextLabel")
        local NotifCorner = Instance.new("UICorner")
        local NotifHolderUIStroke = Instance.new("UIStroke")
        local Line = Instance.new("Frame")
    
        local SectionColor = _G.SectionColor or Color3.fromRGB(255, 255, 255)
        local defaultOkayColor = Color3.fromRGB(12, 12, 12)
    
        NotificationFrame.Name = "NotificationFrame"
        NotificationFrame.Parent = RebornXer_Hub
        NotificationFrame.AnchorPoint = Vector2.new(0.5, 0.5) -- ตั้งจุดยึดตรงกลาง
        NotificationFrame.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
        NotificationFrame.BorderColor3 = SectionColor
        NotificationFrame.BorderSizePixel = 0
        NotificationFrame.ClipsDescendants = true
        NotificationFrame.Position = UDim2.new(0.5, 0, 0.5, 0) -- ตั้งตำแหน่งตรงกลางจอ
        NotificationFrame.Size = UDim2.new(0, 0, 0, 0)
    
        NotificationFrame:TweenSize(UDim2.new(0, 400, 0, 200), Enum.EasingDirection.Out, Enum.EasingStyle.Quart, .6, true)
    
        NotifCorner.Parent = NotificationFrame
        NotifCorner.CornerRadius = UDim.new(0, 10) -- เพิ่มความโค้งเล็กน้อย
    
        NotifHolderUIStroke.Parent = NotificationFrame
        NotifHolderUIStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
        NotifHolderUIStroke.Color = SectionColor
        NotifHolderUIStroke.Thickness = 1
    
        OkayBtn.Name = "OkayBtn"
        OkayBtn.Parent = NotificationFrame
        OkayBtn.BackgroundColor3 = defaultOkayColor
        OkayBtn.BorderSizePixel = 1
        OkayBtn.BorderColor3 = SectionColor
        OkayBtn.Position = UDim2.new(0.95, -25, 0.02, 0) -- ปุ่มปิดอยู่มุมขวาบน
        OkayBtn.Size = UDim2.new(0, 30, 0, 30)
        OkayBtn.Text = "X"
        OkayBtn.TextColor3 = Color3.fromRGB(255, 0, 0)
        OkayBtn.TextSize = 22.000
    
        OkayBtnCorner.CornerRadius = UDim.new(0, 5)
        OkayBtnCorner.Parent = OkayBtn
    
        NotificationTitle.Parent = NotificationFrame
        NotificationTitle.BackgroundTransparency = 1.000
        NotificationTitle.Position = UDim2.new(0.5, -200, 0, 20) -- ตำแหน่งกลาง
        NotificationTitle.Size = UDim2.new(0, 400, 0, 40)
        NotificationTitle.Font = Enum.Font.Code
        NotificationTitle.Text = "Notification"
        NotificationTitle.TextColor3 = Color3.fromRGB(0, 255, 255)
        NotificationTitle.TextSize = 28.000
        NotificationTitle.TextXAlignment = Enum.TextXAlignment.Center
    
        Line.Parent = NotificationFrame
        Line.BackgroundColor3 = SectionColor
        Line.BorderSizePixel = 0
        Line.Position = UDim2.new(0, 0, 0, 70)
        Line.Size = UDim2.new(1, 0, 0, 2)
    
        NotificationDesc.Parent = NotificationFrame
        NotificationDesc.BackgroundTransparency = 1.000
        NotificationDesc.Position = UDim2.new(0.5, -180, 0, 80)
        NotificationDesc.Size = UDim2.new(0, 360, 0, 100) -- ปรับขนาดข้อความให้เหมาะกับกรอบ
        NotificationDesc.Font = Enum.Font.Code
        NotificationDesc.Text = textdesc
        NotificationDesc.TextColor3 = _G.SectionTextColor or Color3.fromRGB(255, 255, 255)
        NotificationDesc.TextSize = 18.000
        NotificationDesc.TextWrapped = true
        NotificationDesc.TextXAlignment = Enum.TextXAlignment.Center
    
        OkayBtn.MouseEnter:Connect(function()
            TweenService:Create(OkayBtn, TweenInfo.new(.3, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {BackgroundColor3 = Color3.fromRGB(30, 30, 30)}):Play()
        end)
    
        OkayBtn.MouseLeave:Connect(function()
            TweenService:Create(OkayBtn, TweenInfo.new(.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {BackgroundColor3 = defaultOkayColor}):Play()
        end)
    
        OkayBtn.MouseButton1Click:Connect(function()
            NotificationFrame:TweenSize(UDim2.new(0, 0, 0, 0), Enum.EasingDirection.Out, Enum.EasingStyle.Quart, .6, true)
            wait(0.6)
            NotificationFrame:Destroy()
        end)
    end
    
    
    
    local Tab = Instance.new("ImageLabel")
    local WindowStrokelol = Instance.new("UIStroke")
     Tab.Name = "Tab"
     Tab.Parent = Top
     Tab.BackgroundColor3 = Color3.fromRGB(42, 42, 42)
     Tab.ImageTransparency = 1
     Tab.Position = UDim2.new(0, 160, 0, -2)
     Tab.Size = UDim2.new(0, 410, 0, 29)
     Tab.Image = "rbxassetid://6675147486"
     
     WindowStrokelol.Name = "WindowStroke"
     WindowStrokelol.Parent = Tab
     WindowStrokelol.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
     WindowStrokelol.Color = Color3.fromRGB(255,255,255)
     WindowStrokelol.LineJoinMode = Enum.LineJoinMode.Round
     WindowStrokelol.Thickness = 1
     WindowStrokelol.Transparency = 0
     WindowStrokelol.Enabled = true
     WindowStrokelol.Archivable = true
     
     local TCNR = Instance.new("UICorner")
     TCNR.Name = "TCNR"
     TCNR.Parent = Tab
     
     local ScrollTab = Instance.new("ScrollingFrame")
     ScrollTab.Name = "ScrollTab"
     ScrollTab.Parent = Tab
     ScrollTab.Active = true
     ScrollTab.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
     ScrollTab.BackgroundTransparency = 0
     ScrollTab.Size = UDim2.new(0, 433, 0, 29)
     ScrollTab.CanvasSize = UDim2.new(0, 0, 0, 0)
     ScrollTab.ScrollBarThickness = 0
     
     local PLL = Instance.new("UIListLayout")
     PLL.Name = "PLL"
     PLL.Parent = ScrollTab
     PLL.FillDirection = Enum.FillDirection.Horizontal
     PLL.SortOrder = Enum.SortOrder.LayoutOrder
     PLL.Padding = UDim.new(0)
     
     local PPD = Instance.new("UIPadding")
     PPD.Name = "PPD"
     PPD.Parent = ScrollTab
     PPD.PaddingLeft = UDim.new(0.01)
     
     local Page = Instance.new("Frame")
     local WindowStrokeshit = Instance.new("UIStroke")
     Page.Name = "Page"
     Page.Parent = Main
     Page.BackgroundColor3 = Color3.fromRGB(42, 42, 42)
     Page.BackgroundTransparency = 1
     Page.Position = UDim2.new(0, 1, 0.100000003, -5)
     Page.Size = UDim2.new(0, 300, 0, 380)
     
     WindowStrokeshit.Name = "WindowStroke"
     WindowStrokeshit.Parent = Page
     WindowStrokeshit.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
     WindowStrokeshit.Color = Color3.fromRGB(255,255,255)
     WindowStrokeshit.LineJoinMode = Enum.LineJoinMode.Round
     WindowStrokeshit.Thickness = 1
     WindowStrokeshit.Transparency = 0
     WindowStrokeshit.Archivable = false
     WindowStrokeshit.Enabled = true
     
     local lolshit = Instance.new("UICorner")
     
     lolshit.Parent = Top1
     
     
     local PCNR = Instance.new("UICorner")
     PCNR.Name = "PCNR"
     PCNR.Parent = Page
     
     local MainPage = Instance.new("Frame")
     MainPage.Name = "MainPage"
     MainPage.Parent = Page
     MainPage.ClipsDescendants = true
     MainPage.BackgroundColor3 = Color3.fromRGB(255,255,255)
     MainPage.BackgroundTransparency = 1.000
     MainPage.Size = UDim2.new(0, 300, 0, 380)
     
     local PageList = Instance.new("Folder")
     PageList.Name = "PageList"
     PageList.Parent = MainPage
     
     local UIPageLayout = Instance.new("UIPageLayout")
     
     UIPageLayout.Parent = PageList
     UIPageLayout.SortOrder = Enum.SortOrder.LayoutOrder
     UIPageLayout.EasingDirection = Enum.EasingDirection.InOut
     UIPageLayout.EasingStyle = Enum.EasingStyle.Quad
     UIPageLayout.FillDirection = Enum.FillDirection.Vertical
     UIPageLayout.Padding = UDim.new(0, 15)
     UIPageLayout.TweenTime = 0.400
     UIPageLayout.GamepadInputEnabled = false
     UIPageLayout.ScrollWheelInputEnabled = false
     UIPageLayout.TouchInputEnabled = false
    
    local Page2 = Instance.new("Frame")
     local WindowStrokeshit2 = Instance.new("UIStroke")
     Page2.Name = "Page2"
     Page2.Parent = Main
     Page2.BackgroundColor3 = Color3.fromRGB(42, 42, 42)
     Page2.BackgroundTransparency = 1
     Page2.Position = UDim2.new(0, 302, 0.100000003, -5)
     Page2.Size = UDim2.new(0, 300, 0, 378)
     
     WindowStrokeshit2.Name = "WindowStroke"
     WindowStrokeshit2.Parent = Page2
     WindowStrokeshit2.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
     WindowStrokeshit2.Color = Color3.fromRGB(255,255,255)
     WindowStrokeshit2.LineJoinMode = Enum.LineJoinMode.Round
     WindowStrokeshit2.Thickness = 1
     WindowStrokeshit2.Transparency = 0
     WindowStrokeshit2.Archivable = false
     WindowStrokeshit2.Enabled = true
     
     local lolshit2 = Instance.new("UICorner")
     
     lolshit2.Parent = Top1
     
     
     local PCNR2 = Instance.new("UICorner")
     PCNR2.Name = "PCNR"
     PCNR2.Parent = Page2
     
     local MainPage2 = Instance.new("Frame")
     MainPage2.Name = "MainPage"
     MainPage2.Parent = Page2
     MainPage2.ClipsDescendants = true
     MainPage2.BackgroundColor3 = Color3.fromRGB(255,255,255)
     MainPage2.BackgroundTransparency = 1.000
     MainPage2.Size = UDim2.new(0, 300, 0, 378)
     
     local PageList2 = Instance.new("Folder")
     PageList2.Name = "PageList"
     PageList2.Parent = MainPage2
     
     local UIPageLayout2 = Instance.new("UIPageLayout")
     
     UIPageLayout2.Parent = PageList2
     UIPageLayout2.SortOrder = Enum.SortOrder.LayoutOrder
     UIPageLayout2.EasingDirection = Enum.EasingDirection.InOut
     UIPageLayout2.EasingStyle = Enum.EasingStyle.Quad
     UIPageLayout2.FillDirection = Enum.FillDirection.Vertical
     UIPageLayout2.Padding = UDim.new(0, 15)
     UIPageLayout2.TweenTime = 0.400
     UIPageLayout2.GamepadInputEnabled = false
     UIPageLayout2.ScrollWheelInputEnabled = false
     UIPageLayout2.TouchInputEnabled = false
     
     MakeDraggable(Top,Main)
     
    local TweenService = game:GetService("TweenService")
    local UserInputService = game:GetService("UserInputService")
    
    local uihide = false
    UserInputService.InputBegan:Connect(function(input)
        if input.KeyCode == Enum.KeyCode[yoo] then -- แก้ไขเป็น KeyCode ที่ต้องการ
            if uihide == false then
                uihide = true
                local tween = TweenService:Create(
                    Main,
                    TweenInfo.new(0.35, Enum.EasingStyle.Sine, Enum.EasingDirection.In), -- กำหนดเวลา 1 วินาที
                    {Size = UDim2.new(0, 0, 0, 0)}
                )
                tween:Play()
            else
                uihide = false
                local tween = TweenService:Create(
                    Main,
                    TweenInfo.new(0.35, Enum.EasingStyle.Sine, Enum.EasingDirection.Out), -- กำหนดเวลา 1 วินาที
                    {Size = UDim2.new(0, 600, 0, 400)}
                )
                tween:Play()
            end
        end
    end)
        
    
    
     
        local uitab = {}
        
        function uitab:AddTab(text, img)
            local TabButton = Instance.new("TextButton")
            local TabImage = Instance.new("ImageLabel")
            local WindowStroke = Instance.new("UIStroke")
            local Label3 = Instance.new("TextLabel")
            local LabelTitle = Instance.new("TextLabel")
    local LabelTitle = Instance.new("TextLabel")
    
            TabButton.Parent = ScrollTab
            TabButton.Name = text.."Server"
            TabButton.Text = text
            TabButton.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
            TabButton.BackgroundTransparency = 0.1
            TabButton.Position = UDim2.new(0, 2, 0, 0)
            TabButton.Size = UDim2.new(0, 100, 0, 28)
            TabButton.Font = Enum.Font.Code
            TabButton.TextColor3 = Color3.fromRGB(255, 225, 225)
            TabButton.TextSize = 12.000
            TabButton.TextTransparency = 0
            
            
    local MCNR1 = Instance.new("UICorner")
        MCNR1.Name = "MCNR"
        MCNR1.Parent = TabButton
    
    WindowStroke.Name = "WindowStroke"
     WindowStroke.Parent = TabButton
     WindowStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
     WindowStroke.Color = Color3.fromRGB(45,45,45)
     WindowStroke.LineJoinMode = Enum.LineJoinMode.Round
     WindowStroke.Thickness = 1
     WindowStroke.Transparency = 0
     WindowStroke.Enabled = true
     WindowStroke.Archivable = true
    
            local MainFramePage = Instance.new("ScrollingFrame")
            MainFramePage.Name = text.."_Page"
            MainFramePage.Parent = PageList
            MainFramePage.Active = true
            MainFramePage.BackgroundColor3 = Color3.fromRGB(51,255,255)
            MainFramePage.BackgroundTransparency = 1.000
            MainFramePage.BorderSizePixel = 1
            MainFramePage.Size = UDim2.new(0, 390, 0, 370)
            MainFramePage.CanvasSize = UDim2.new(0, 0, 0, 0)
            MainFramePage.ScrollBarThickness = 0
            
    
            
            local UIPadding = Instance.new("UIPadding")
            local UIListLayout = Instance.new("UIListLayout")
            
            UIPadding.Parent = MainFramePage
            UIPadding.PaddingLeft = UDim.new(0, 10)
            UIPadding.PaddingTop = UDim.new(0, 10)
    
            UIListLayout.Padding = UDim.new(0,4)
            UIListLayout.Parent = MainFramePage
            UIListLayout.SortOrder = Enum.SortOrder.LayoutOrder
            
            TabButton.MouseButton1Click:Connect(function()
local Sound = Instance.new("Sound", game:GetService("Workspace"))
Sound.Name = "Notify"
Sound.SoundId = "rbxassetid://903267862"
Sound.Looped = false
Sound.Volume = 1

-- เมื่อเสียงเล่นจบ ให้ลบออก
Sound.Ended:Connect(function()
    Sound:Destroy()
end)

Sound:Play() -- ใช้ Sound:Play() แทนการตั้ง Sound.Playing = true

                for i,v in next, ScrollTab:GetChildren() do
                    if v:IsA("TextButton") then
                        TweenService:Create(
                            v,
                            TweenInfo.new(0,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),
                            {TextTransparency = 0}
                        ):Play()
                    end
                    TweenService:Create(
                        TabButton,
                        TweenInfo.new(0,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),
                        {TextTransparency = 0}
                    ):Play()
                end
                for i,v in next, PageList:GetChildren() do
                    currentpage = string.gsub(TabButton.Name,"Server","").."_Page"
                    if v.Name == currentpage then
                        UIPageLayout:JumpTo(v)
                    end
                end
            end)
    
            if abc == false then
                
                for i,v in next, ScrollTab:GetChildren() do
                    if v:IsA("TextButton") then
                        TweenService:Create(
                            v,
                            TweenInfo.new(0,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),
                            {TextTransparency = 0}
                        ):Play()
                    end
                    TweenService:Create(
                        TabButton,
                        TweenInfo.new(0,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),
                        {TextTransparency = 0}
                    ):Play()
                end
                UIPageLayout:JumpToIndex(0)
                abc = true
            end
            
            game:GetService("RunService").Stepped:Connect(function()
                pcall(function()
                    MainFramePage.CanvasSize = UDim2.new(0,0,0,UIListLayout.AbsoluteContentSize.Y + 20)
                    ScrollTab.CanvasSize = UDim2.new(0,PLL.AbsoluteContentSize.X + 20,0,0)
                end)
            end)
     
     coroutine.wrap(function()
     while wait() do
     end
     end)()
     
         
     
     coroutine.wrap(function()
     while wait() do
     end
     end)()
        
        
        local MainFramePage2 = Instance.new("ScrollingFrame")
            MainFramePage2.Name = text.."_Page"
            MainFramePage2.Parent = PageList2
            MainFramePage2.Active = true
            MainFramePage2.BackgroundColor3 = Color3.fromRGB(51,255,255)
            MainFramePage2.BackgroundTransparency = 1.000
            MainFramePage2.BorderSizePixel = 0
            MainFramePage2.Size = UDim2.new(0, 320, 0, 370)
            MainFramePage2.CanvasSize = UDim2.new(0, 0, 0, 0)
            MainFramePage2.ScrollBarThickness = 0
            
            local UIPadding2 = Instance.new("UIPadding")
            local UIListLayout2 = Instance.new("UIListLayout")
            
            UIPadding2.Parent = MainFramePage2
            UIPadding2.PaddingLeft = UDim.new(0, 10)
            UIPadding2.PaddingTop = UDim.new(0, 10)
    
            UIListLayout2.Padding = UDim.new(0,4)
            UIListLayout2.Parent = MainFramePage2
            UIListLayout2.SortOrder = Enum.SortOrder.LayoutOrder
            
            TabButton.MouseButton1Click:Connect(function()
                for i,v in next, ScrollTab:GetChildren() do
                    if v:IsA("TextButton") then
                        TweenService:Create(
                            v,
                            TweenInfo.new(0,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),
                            {TextTransparency = 0}
                        ):Play()
                    end
                    TweenService:Create(
                        TabButton,
                        TweenInfo.new(0,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),
                        {TextTransparency = 0}
                    ):Play()
                end
                for i,v in next, PageList2:GetChildren() do
                    currentpage = string.gsub(TabButton.Name,"Server","").."_Page"
                    if v.Name == currentpage then
                        UIPageLayout2:JumpTo(v)
                    end
                end
            end)
    
            if abc == false then
                for i,v in next, ScrollTab:GetChildren() do
                    if v:IsA("TextButton") then
                        TweenService:Create(
                            v,
                            TweenInfo.new(0,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),
                            {TextTransparency = 0}
                        ):Play()
                    end
                    TweenService:Create(
                        TabButton,
                        TweenInfo.new(0,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),
                        {TextTransparency = 0}
                    ):Play()
                end
                UIPageLayout2:JumpToIndex(0)
                abc = true
            end
            
            game:GetService("RunService").Stepped:Connect(function()
                pcall(function()
                    MainFramePage2.CanvasSize = UDim2.new(0,0,0,UIListLayout2.AbsoluteContentSize.Y + 20)
                    ScrollTab.CanvasSize = UDim2.new(0,PLL.AbsoluteContentSize.X + 20,0,0)
                end)
            end)
     
     coroutine.wrap(function()
     while wait() do
     end
     end)()
     
         
     
     coroutine.wrap(function()
     while wait() do
     end
     end)()
        local abcd = false
         function uitab:AddTabH(text,img)
         local mainDiscord = Instance.new("ImageButton")
    
         mainDiscord.Name = "mainDiscord"
        mainDiscord.Parent = Top
        mainDiscord.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
        mainDiscord.BackgroundTransparency = 1.000
        mainDiscord.Position = UDim2.new(0, 565, 0, 0)
        mainDiscord.Size = UDim2.new(0, 30, 0, 30)
        mainDiscord.Image = "rbxassetid://"..tostring(img)
        mainDiscord.ImageColor3 = Color3.fromRGB(200, 200, 200)
        
            local MainFramePage = Instance.new("ScrollingFrame")
            MainFramePage.Name = text.."_Page"
            MainFramePage.Parent = PageList
            MainFramePage.Active = true
            MainFramePage.BackgroundColor3 = Color3.fromRGB(51,255,255)
            MainFramePage.BackgroundTransparency = 1.000
            MainFramePage.BorderSizePixel = 1
            MainFramePage.Size = UDim2.new(0, 390, 0, 370)
            MainFramePage.CanvasSize = UDim2.new(0, 0, 0, 0)
            MainFramePage.ScrollBarThickness = 0
            
    
            
            local UIPadding = Instance.new("UIPadding")
            local UIListLayout = Instance.new("UIListLayout")
            
            UIPadding.Parent = MainFramePage
            UIPadding.PaddingLeft = UDim.new(0, 10)
            UIPadding.PaddingTop = UDim.new(0, 10)
    
            UIListLayout.Padding = UDim.new(0,4)
            UIListLayout.Parent = MainFramePage
            UIListLayout.SortOrder = Enum.SortOrder.LayoutOrder
            
            mainDiscord.MouseButton1Click:Connect(function()
                local Sound = Instance.new("Sound", game:GetService("Workspace"))
Sound.Name = "Notify"
Sound.SoundId = "rbxassetid://3020841054"
Sound.Looped = false
Sound.Volume = 1

-- เมื่อเสียงเล่นจบ ให้ลบออก
Sound.Ended:Connect(function()
    Sound:Destroy()
end)

Sound:Play() -- ใช้ Sound:Play() แทนการตั้ง Sound.Playing = true

                for i,v in next, ScrollTab:GetChildren() do
                    if v:IsA("TextButton") then
                        TweenService:Create(
                            v,
                            TweenInfo.new(0,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),
                            {TextTransparency = 0}
                        ):Play()
                    end
                    TweenService:Create(
                        TabButton,
                        TweenInfo.new(0,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),
                        {TextTransparency = 0}
                    ):Play()
                end
                for i,v in next, PageList:GetChildren() do
                    currentpage2 = string.gsub(TabButton.Name,"Server","").."_Page"
                    if v.Name == currentpage2 then
                        UIPageLayout:JumpTo(v)
                    end
                end
            end)
    
            if abc == false then
                
                for i,v in next, ScrollTab:GetChildren() do
                    if v:IsA("TextButton") then
                        TweenService:Create(
                            v,
                            TweenInfo.new(0,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),
                            {TextTransparency = 0}
                        ):Play()
                    end
                    TweenService:Create(
                        TabButton,
                        TweenInfo.new(0,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),
                        {TextTransparency = 0}
                    ):Play()
                end
                UIPageLayout:JumpToIndex(0)
                abc = true
            end
            
            game:GetService("RunService").Stepped:Connect(function()
                pcall(function()
                    MainFramePage.CanvasSize = UDim2.new(0,0,0,UIListLayout.AbsoluteContentSize.Y + 20)
                    ScrollTab.CanvasSize = UDim2.new(0,PLL.AbsoluteContentSize.X + 20,0,0)
                end)
            end)
     
     coroutine.wrap(function()
     while wait() do
     end
     end)()
     
         
     
     coroutine.wrap(function()
     while wait() do
     end
     end)()
        
        
        local MainFramePage2 = Instance.new("ScrollingFrame")
            MainFramePage2.Name = text.."_Page"
            MainFramePage2.Parent = PageList2
            MainFramePage2.Active = true
            MainFramePage2.BackgroundColor3 = Color3.fromRGB(51,255,255)
            MainFramePage2.BackgroundTransparency = 1.000
            MainFramePage2.BorderSizePixel = 0
            MainFramePage2.Size = UDim2.new(0, 320, 0, 370)
            MainFramePage2.CanvasSize = UDim2.new(0, 0, 0, 0)
            MainFramePage2.ScrollBarThickness = 0
            
            local UIPadding2 = Instance.new("UIPadding")
            local UIListLayout2 = Instance.new("UIListLayout")
            
            UIPadding2.Parent = MainFramePage2
            UIPadding2.PaddingLeft = UDim.new(0, 10)
            UIPadding2.PaddingTop = UDim.new(0, 10)
    
            UIListLayout2.Padding = UDim.new(0,4)
            UIListLayout2.Parent = MainFramePage2
            UIListLayout2.SortOrder = Enum.SortOrder.LayoutOrder
            
            mainDiscord.MouseButton1Click:Connect(function()
                for i,v in next, ScrollTab:GetChildren() do
                    if v:IsA("TextButton") then
                        TweenService:Create(
                            v,
                            TweenInfo.new(0,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),
                            {TextTransparency = 0}
                        ):Play()
                    end
                    TweenService:Create(
                        TabButton,
                        TweenInfo.new(0,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),
                        {TextTransparency = 0}
                    ):Play()
                end
                for i,v in next, PageList2:GetChildren() do
                    currentpage2 = string.gsub(TabButton.Name,"Server","").."_Page"
                    if v.Name == currentpage2 then
                        UIPageLayout2:JumpTo(v)
                    end
                end
            end)
    
            if abc == false then
                for i,v in next, ScrollTab:GetChildren() do
                    if v:IsA("TextButton") then
                        TweenService:Create(
                            v,
                            TweenInfo.new(0,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),
                            {TextTransparency = 0}
                        ):Play()
                    end
                    TweenService:Create(
                        mainDiscord,
                        TweenInfo.new(0,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),
                        {TextTransparency = 0}
                    ):Play()
                end
                UIPageLayout2:JumpToIndex(0)
                abc = true
            end
            
            game:GetService("RunService").Stepped:Connect(function()
                pcall(function()
                    MainFramePage2.CanvasSize = UDim2.new(0,0,0,UIListLayout2.AbsoluteContentSize.Y + 20)
                    ScrollTab.CanvasSize = UDim2.new(0,PLL.AbsoluteContentSize.X + 20,0,0)
                end)
            end)
     
     coroutine.wrap(function()
     while wait() do
     end
     end)()
    
     
         
     
     coroutine.wrap(function()
     while wait() do
     end
     end)()
        end
        
            local main = {}
            local TweenService = game:GetService("TweenService")
    
    function main:AddButtonR(text, callback)
        if not MainFramePage2 then
            return
        end
        
        local Button2 = Instance.new("Frame")
        local UICorner2 = Instance.new("UICorner")
        local TextBtn2 = Instance.new("TextButton")
        local UICorner_1 = Instance.new("UICorner")
        local Black2 = Instance.new("Frame")
        local UICorner_2 = Instance.new("UICorner")
        
        Button2.Name = "Button"
        Button2.Parent = MainFramePage2
        Button2.BackgroundColor3 = _G.Color or Color3.new(1, 1, 1)
        Button2.Size = UDim2.new(0, 280, 0, 28)
        
        UICorner2.CornerRadius = UDim.new(0, 5)
        UICorner2.Parent = Button2
        
        TextBtn2.Name = "TextBtn"
        TextBtn2.Parent = Button2
        TextBtn2.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
        TextBtn2.Position = UDim2.new(0, 1, 0, 1)
        TextBtn2.Size = UDim2.new(0, 278, 0, 26)
        TextBtn2.AutoButtonColor = false
        TextBtn2.Font = Enum.Font.Code
        TextBtn2.Text = text
        TextBtn2.TextColor3 = Color3.fromRGB(225, 225, 225)
        TextBtn2.TextSize = 12
        
        UICorner_1.CornerRadius = UDim.new(0, 5)
        UICorner_1.Parent = TextBtn2
        
        Black2.Name = "Black"
        Black2.Parent = Button2
        Black2.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
        Black2.BackgroundTransparency = 1
        Black2.BorderSizePixel = 0
        Black2.Position = UDim2.new(0, 1, 0, 1)
        Black2.Size = UDim2.new(0, 280, 0, 26)
        
        UICorner_2.CornerRadius = UDim.new(0, 5)
        UICorner_2.Parent = Black2
    
        TextBtn2.MouseEnter:Connect(function()
            local tween = TweenService:Create(
                Black2,
                TweenInfo.new(0.4, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),
                {BackgroundTransparency = 0.7}
            )
            tween:Play()
        end)
        
        TextBtn2.MouseLeave:Connect(function()
            local tween = TweenService:Create(
                Black2,
                TweenInfo.new(0.4, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),
                {BackgroundTransparency = 1}
            )
            tween:Play()
        end)
        
        TextBtn2.MouseButton1Click:Connect(function()
            TextBtn2.TextSize = 0
            local tween = TweenService:Create(
                TextBtn2,
                TweenInfo.new(0.4, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),
                {TextSize = 12}
            )
            tween:Play()
            if callback then
                callback()
            else
            end
        end)
    end
    
    function main:AddButtonL(text, callback)
        if not MainFramePage then
            return
        end
    
        local Button = Instance.new("Frame")
        local UICorner = Instance.new("UICorner")
        local TextBtn = Instance.new("TextButton")
        local UICorner_2 = Instance.new("UICorner")
        local Black = Instance.new("Frame")
        local UICorner_3 = Instance.new("UICorner")
        
        Button.Name = "Button"
        Button.Parent = MainFramePage
        Button.BackgroundColor3 = _G.Color or Color3.new(1, 1, 1)
        Button.Size = UDim2.new(0, 280, 0, 28)
        
        UICorner.CornerRadius = UDim.new(0, 5)
        UICorner.Parent = Button
        
        TextBtn.Name = "TextBtn"
        TextBtn.Parent = Button
        TextBtn.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
        TextBtn.Position = UDim2.new(0, 1, 0, 1)
        TextBtn.Size = UDim2.new(0, 278, 0, 26)
        TextBtn.AutoButtonColor = false
        TextBtn.Font = Enum.Font.Code
        TextBtn.Text = text
        TextBtn.TextColor3 = Color3.fromRGB(225, 225, 225)
        TextBtn.TextSize = 12
        
        UICorner_2.CornerRadius = UDim.new(0, 5)
        UICorner_2.Parent = TextBtn
        
        Black.Name = "Black"
        Black.Parent = Button
        Black.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
        Black.BackgroundTransparency = 1
        Black.BorderSizePixel = 0
        Black.Position = UDim2.new(0, 1, 0, 1)
        Black.Size = UDim2.new(0, 280, 0, 26)
        
        UICorner_3.CornerRadius = UDim.new(0, 5)
        UICorner_3.Parent = Black
    
        TextBtn.MouseEnter:Connect(function()
            local tween = TweenService:Create(
                Black,
                TweenInfo.new(0.4, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),
                {BackgroundTransparency = 0.7}
            )
            tween:Play()
        end)
        
        TextBtn.MouseLeave:Connect(function()
            local tween = TweenService:Create(
                Black,
                TweenInfo.new(0.4, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),
                {BackgroundTransparency = 1}
            )
            tween:Play()
        end)
        
        TextBtn.MouseButton1Click:Connect(function()
            TextBtn.TextSize = 0
            local tween = TweenService:Create(
                TextBtn,
                TweenInfo.new(0.4, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),
                {TextSize = 12}
            )
            tween:Play()
            if callback then
                callback()
            else
            end
        end)
    end
    function main:AddToggle(text, config, callback, parentFrame)
    config = config or false
    local toggled = config
    local Toggle = Instance.new("Frame", parentFrame)
    local Button = Instance.new("TextButton", Toggle)
    local Label = Instance.new("TextLabel", Toggle)
    local ToggleImage = Instance.new("Frame", Toggle)
    local Circle = Instance.new("ImageLabel", ToggleImage)
    local True = Instance.new("TextLabel", Circle)

    -- Styling
    Toggle.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
    Toggle.Size = UDim2.new(0, 280, 0, 28)
-- After creating Toggle
local stroke = Instance.new("UIStroke")
stroke.Color = Color3.fromRGB(255, 255, 255)
stroke.Thickness = 1
stroke.Parent = Toggle
local corner = Instance.new("UICorner")
corner.CornerRadius = UDim.new(0, 4) -- ลองปรับเป็น 6 หรือ 8 เพื่อความมลนิดๆ
corner.Parent = Toggle -- หรือ frame (ใน dropdown)

    Button.Size = UDim2.new(0, 278, 0, 26)
    Button.Position = UDim2.new(0, 1, 0, 1)
    Button.Text = ""
    Button.BackgroundTransparency = 1

    Label.Text = text
    Label.Size = UDim2.new(0, 278, 0, 26)
    Label.Position = UDim2.new(0, 1, 0, 1)
    Label.BackgroundTransparency = 1
    Label.TextColor3 = Color3.fromRGB(255, 255, 255)
    Label.Font = Enum.Font.Code
    Label.TextSize = 12

    ToggleImage.Size = UDim2.new(0, 22, 0, 20)
    ToggleImage.Position = UDim2.new(0, 250, 0, 4)
    ToggleImage.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    ToggleImage.BorderSizePixel = 0

    Circle.Size = UDim2.new(0, 18, 0, 16)
    Circle.Position = UDim2.new(0, 2, 0, 2)
    Circle.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
    Circle.BorderSizePixel = 0

    True.Size = UDim2.new(0, 18, 0, 16)
    True.BackgroundTransparency = 1
    True.TextColor3 = Color3.fromRGB(0, 255, 0)
    True.Text = toggled and "✔" or ""
    True.Font = Enum.Font.Code
    True.TextSize = 13

    Button.MouseButton1Click:Connect(function()
        toggled = not toggled
        True.Text = toggled and "✔" or ""
        TweenService:Create(Circle, TweenInfo.new(0.2), {
            BackgroundColor3 = toggled and Color3.fromRGB(0, 255, 0) or Color3.fromRGB(30, 30, 30)
        }):Play()
        pcall(callback, toggled)
    end)

    if config then
        TweenService:Create(Circle, TweenInfo.new(0.2), {
            BackgroundColor3 = Color3.fromRGB(0, 255, 0)
        }):Play()
        pcall(callback, toggled)
    end
end

function main:AddToggleL(text, config, callback)
    self:AddToggle(text, config, callback, MainFramePage)
end

function main:AddToggleR(text, config, callback)
    self:AddToggle(text, config, callback, MainFramePage2)
end

local function createDropdown(params)
    local parent    = params.parent or error("Parent is required")
    local title     = params.title or "Dropdown"
    local list      = params.list or {}
    local default   = params.config or "Select First"
    local callback  = params.callback or function() end

    local dropdown = {}
    local toggled = false
    local itemCount = 0
    local frameExtra = 0

    local dropSizeFrame = Instance.new("Frame")
    dropSizeFrame.Name = title
    dropSizeFrame.Parent = parent
    dropSizeFrame.BackgroundColor3 = _G.SectionColor
    dropSizeFrame.BackgroundTransparency = 1
    dropSizeFrame.Size = UDim2.new(0, 280, 0, 60)

    local frame = Instance.new("Frame")
    frame.Parent = dropSizeFrame
    frame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
    frame.BorderSizePixel = 0
    frame.Position = UDim2.new(0, 3, 0, 0)
    frame.Size = UDim2.new(0, 278, 0, 60)

    local stroke = Instance.new("UIStroke")
	stroke.Parent = frame
	stroke.Thickness = 0.7
	stroke.Color = Color3.fromRGB(255, 255, 255)

    local dropCover = Instance.new("Frame")
    dropCover.Parent = frame
    dropCover.BackgroundTransparency = 1
    dropCover.Size = UDim2.new(0, 202, 0, 30)

    local imageLabel = Instance.new("ImageLabel")
    imageLabel.Parent = dropCover
    imageLabel.BackgroundTransparency = 1
    imageLabel.Position = UDim2.new(0, 5, 0, 6)
    imageLabel.Size = UDim2.new(0, 18, 0, 18)
    imageLabel.Image = "rbxassetid://8825010231"

    local space = Instance.new("TextLabel")
    space.Parent = dropCover
    space.BackgroundTransparency = 1
    space.Position = UDim2.new(0, 30, 0, 0)
    space.Size = UDim2.new(0, 15, 0, 30)
    space.Font = Enum.Font.Code
    space.Text = "|"
    space.TextSize = 13
    space.TextColor3 = Color3.fromRGB(255, 255, 255)

    local titleLabel = Instance.new("TextLabel")
    titleLabel.Parent = dropCover
    titleLabel.BackgroundTransparency = 1
    titleLabel.Position = UDim2.new(0, 50, 0, 0)
    titleLabel.Size = UDim2.new(0, 207, 0, 30)
    titleLabel.Font = Enum.Font.Code
    titleLabel.Text = title
    titleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    titleLabel.TextSize = 12
    titleLabel.TextXAlignment = Enum.TextXAlignment.Left

    local imageButton = Instance.new("ImageButton")
    imageButton.Parent = dropCover
    imageButton.BackgroundTransparency = 1
    imageButton.Position = UDim2.new(0, 250, 0, 7)
    imageButton.Size = UDim2.new(0, 23, 0, 18)
    imageButton.Image = "rbxassetid://79907159650860"
    imageButton.ImageColor3 = Color3.fromRGB(255, 255, 255)
    imageButton.Rotation = 180

    local dropTextList = Instance.new("TextLabel")
    dropTextList.Name = "DropTextList"
    dropTextList.Parent = frame
    dropTextList.BackgroundColor3 = _G.BackgroundItemColor
    dropTextList.BackgroundTransparency = 1
    dropTextList.Position = UDim2.new(0, 3, 0, 30)
    dropTextList.Size = UDim2.new(0, 278, 0, 25)
    dropTextList.Font = Enum.Font.Code
    dropTextList.Text = default
    dropTextList.TextColor3 = Color3.fromRGB(255, 255, 255)
    dropTextList.TextSize = 12
    dropTextList.TextXAlignment = Enum.TextXAlignment.Center

    Instance.new("UICorner", dropTextList)
    Instance.new("UIStroke", dropTextList).Thickness = 0.2

    local dropItemScroll = Instance.new("ScrollingFrame")
    dropItemScroll.Parent = frame
    dropItemScroll.BackgroundTransparency = 1
    dropItemScroll.Position = UDim2.new(0, 3, 0, 60)
    dropItemScroll.Size = UDim2.new(0, 278, 0, 0)
    dropItemScroll.ScrollBarThickness = 0
    dropItemScroll.CanvasSize = UDim2.new(0, 0, 0, 0)

    local dropItemLayout = Instance.new("UIListLayout")
    dropItemLayout.Parent = dropItemScroll
    dropItemLayout.SortOrder = Enum.SortOrder.LayoutOrder

    local function closeDropdown()
        toggled = false
        dropSizeFrame:TweenSize(UDim2.new(0, 278, 0, 60), 'InOut', 'Linear', 0.08)
        frame:TweenSize(UDim2.new(0, 278, 0, 60), 'InOut', 'Linear', 0.08)
        dropItemScroll:TweenSize(UDim2.new(0, 278, 0, 0), 'InOut', 'Linear', 0.08)
        game.TweenService:Create(imageButton, TweenInfo.new(0.08), {Rotation = 180}):Play()
    end

    local function resetDropdown()
        for _, v in pairs(dropItemScroll:GetChildren()) do
            if v:IsA("TextButton") then v:Destroy() end
        end

        itemCount = 0
        frameExtra = 0
        dropItemScroll.CanvasSize = UDim2.new(0, 0, 0, 0)

        for _, item in ipairs(list) do
            local button = Instance.new("TextButton")
            button.Parent = dropItemScroll
            button.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
            button.BorderSizePixel = 0
            button.Size = UDim2.new(0, 271, 0, 30)
            button.Font = Enum.Font.Code
            button.Text = item
            button.TextColor3 = Color3.fromRGB(255, 255, 255)
            button.TextSize = 12

            button.MouseButton1Click:Connect(function()
                callback(item)
                dropTextList.Text = item
                closeDropdown() -- <<< ปิดทันทีหลังเลือก
            end)

            itemCount += 1
            frameExtra += 30
        end

        dropItemScroll.CanvasSize = UDim2.new(0, 0, 0, frameExtra)
    end

    imageButton.MouseButton1Click:Connect(function()
        if toggled then
            closeDropdown()
        else
            resetDropdown()
            toggled = true
            dropSizeFrame:TweenSize(UDim2.new(0, 278, 0, 65 + frameExtra), 'InOut', 'Linear', 0.08)
            frame:TweenSize(UDim2.new(0, 278, 0, 65 + frameExtra), 'InOut', 'Linear', 0.08)
            dropItemScroll:TweenSize(UDim2.new(0, 278, 0, frameExtra), 'InOut', 'Linear', 0.08)
            game.TweenService:Create(imageButton, TweenInfo.new(0.08), {Rotation = 0}):Play()
        end
    end)

    return dropdown
end

function main:AddDropdownL(droptitle, list, config, callback)
    return createDropdown({
        parent = MainFramePage,
        title = droptitle,
        list = list,
        config = config,
        callback = callback,
        style = "L"
    })
end

-- สร้าง Dropdown ขวา (R)
function main:AddDropdownR(droptitle, list, config, callback)
    return createDropdown({
        parent = MainFramePage2,
        title = droptitle,
        list = list,
        config = config,
        callback = callback,
        style = "R"
    })
end

local function createMultiDropdown(params)
	local parent = params.parent or error("Parent is required")
	local title = params.title or "Multi Dropdown"
	local list = params.list or {}
	local default = params.config or {"Select . . ."}
	local callback = params.callback or function() end

	local selectedItems = {}
	for _, val in ipairs(default) do
		selectedItems[val] = true
	end

	local toggled = false
	local frameExtra = 0

	local dropFrame = Instance.new("Frame")
	dropFrame.Name = title
	dropFrame.Parent = parent
	dropFrame.BackgroundTransparency = 1
	dropFrame.Size = UDim2.new(0, 280, 0, 60)

	local base = Instance.new("Frame")
	base.Parent = dropFrame
	base.Size = UDim2.new(1, -2, 0, 60)
	base.Position = UDim2.new(0, 1, 0, 0)
	base.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
	base.BorderSizePixel = 0

	local corner = Instance.new("UICorner", base)
	corner.CornerRadius = UDim.new(0, 4)

	local stroke = Instance.new("UIStroke", base)
	stroke.Thickness = 0.7
	stroke.Color = Color3.fromRGB(255, 255, 255)

	local titleLabel = Instance.new("TextLabel")
	titleLabel.Parent = base
	titleLabel.Size = UDim2.new(1, -40, 0, 30)
	titleLabel.Position = UDim2.new(0, 10, 0, 0)
	titleLabel.BackgroundTransparency = 1
	titleLabel.Text = title
	titleLabel.Font = Enum.Font.Code
	titleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
	titleLabel.TextSize = 12
	titleLabel.TextXAlignment = Enum.TextXAlignment.Left

	local toggleBtn = Instance.new("ImageButton")
	toggleBtn.Parent = base
	toggleBtn.Size = UDim2.new(0, 23, 0, 18)
	toggleBtn.Position = UDim2.new(1, -28, 0, 6)
	toggleBtn.BackgroundTransparency = 1
	toggleBtn.Image = "rbxassetid://79907159650860"
	toggleBtn.Rotation = 180

	local selectedText = Instance.new("TextLabel")
	selectedText.Parent = base
	selectedText.Position = UDim2.new(0, 3, 0, 30)
	selectedText.Size = UDim2.new(1, -6, 0, 25)
	selectedText.BackgroundTransparency = 1
	selectedText.Text = "Select . . ."
	selectedText.Font = Enum.Font.Code
	selectedText.TextColor3 = Color3.fromRGB(255, 255, 255)
	selectedText.TextSize = 12
	selectedText.TextXAlignment = Enum.TextXAlignment.Center

	local itemScroll = Instance.new("ScrollingFrame")
	itemScroll.Parent = base
	itemScroll.Position = UDim2.new(0, 3, 0, 60)
	itemScroll.Size = UDim2.new(1, -6, 0, 0)
	itemScroll.BackgroundTransparency = 1
	itemScroll.ScrollBarThickness = 0
	itemScroll.CanvasSize = UDim2.new(0, 0, 0, 0)
	itemScroll.ClipsDescendants = true

	local layout = Instance.new("UIListLayout", itemScroll)
	layout.SortOrder = Enum.SortOrder.LayoutOrder

	for _, item in ipairs(list) do
		local btn = Instance.new("TextButton")
		btn.Parent = itemScroll
		btn.Size = UDim2.new(1, 0, 0, 30)
		btn.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
		btn.TextColor3 = Color3.fromRGB(255, 255, 255)
		btn.TextSize = 14
		btn.Font = Enum.Font.Code
		btn.TextXAlignment = Enum.TextXAlignment.Left
		btn.Text = "☐ " .. item

		local function updateText()
			if selectedItems[item] then
				btn.Text = "☑ " .. item
			else
				btn.Text = "☐ " .. item
			end

			local resultList = {}
			for k, _ in pairs(selectedItems) do
				table.insert(resultList, k)
			end
			selectedText.Text = #resultList > 0 and table.concat(resultList, ", ") or "Select . . ."
			callback(resultList)
		end

		btn.MouseButton1Click:Connect(function()
			if selectedItems[item] then
				selectedItems[item] = nil
			else
				selectedItems[item] = true
			end
			updateText()
		end)

		updateText()
		frameExtra += 30
	end

	itemScroll.CanvasSize = UDim2.new(0, 0, 0, frameExtra)

	toggleBtn.MouseButton1Click:Connect(function()
		toggled = not toggled
		local newSize = toggled and (60 + frameExtra) or 60
		itemScroll:TweenSize(UDim2.new(1, -6, 0, toggled and frameExtra or 0), 'InOut', 'Linear', 0.1, true)
		base:TweenSize(UDim2.new(1, -2, 0, newSize), 'InOut', 'Linear', 0.1, true)
		dropFrame:TweenSize(UDim2.new(0, 280, 0, newSize), 'InOut', 'Linear', 0.1, true)
		toggleBtn.Rotation = toggled and 0 or 180
	end)

	return {
		GetSelected = function()
			local result = {}
			for k, _ in pairs(selectedItems) do
				table.insert(result, k)
			end
			return result
		end
	}
end

   
function main:AddMultiDropdownL(title, list, default, callback)
    return createMultiDropdown({
        parent = MainFramePage,
        title = title,
        list = list,
        config = default,
        callback = callback
    })
end

function main:AddMultiDropdownR(title, list, default, callback)
    return createMultiDropdown({
        parent = MainFramePage2,
        title = title,
        list = list,
        config = default,
        callback = callback
    })
end

    
    local function createSlider(parent, text, min, max, set, callback)
        local Slider = Instance.new("Frame")
        local slidercorner = Instance.new("UICorner")
        local sliderr = Instance.new("Frame")
        local sliderrcorner = Instance.new("UICorner")
        local SliderLabel = Instance.new("TextLabel")
        local AHEHE = Instance.new("TextButton")
        local bar = Instance.new("Frame")
        local bar1 = Instance.new("Frame")
        local bar1corner = Instance.new("UICorner")
        local circlebar = Instance.new("Frame")
        local UICorner = Instance.new("UICorner")
        local slidervalue = Instance.new("Frame")
        local valuecorner = Instance.new("UICorner")
        local TextBox = Instance.new("TextBox")
        local UICorner_2 = Instance.new("UICorner")
    
        Slider.Parent = parent
        Slider.BackgroundColor3 = _G.Color
        Slider.Size = UDim2.new(0, 280, 0, 51)
    
        slidercorner.CornerRadius = UDim.new(0, 5)
        slidercorner.Parent = Slider
    
        sliderr.Parent = Slider
        sliderr.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
        sliderr.Position = UDim2.new(0, 1, 0, 1)
        sliderr.Size = UDim2.new(0, 278, 0, 49)
    
        sliderrcorner.CornerRadius = UDim.new(0, 5)
        sliderrcorner.Parent = sliderr
    
        SliderLabel.Parent = sliderr
        SliderLabel.BackgroundTransparency = 1.0
        SliderLabel.Position = UDim2.new(0, 15, 0, 0)
        SliderLabel.Size = UDim2.new(0, 100, 0, 26)
        SliderLabel.Font = Enum.Font.Code
        SliderLabel.Text = text
        SliderLabel.TextColor3 = Color3.fromRGB(225, 225, 225)
        SliderLabel.TextSize = 16.0
        SliderLabel.TextXAlignment = Enum.TextXAlignment.Left
    
        AHEHE.Parent = sliderr
        AHEHE.BackgroundTransparency = 1.0
        AHEHE.Position = UDim2.new(0, 10, 0, 35)
        AHEHE.Size = UDim2.new(0, 260, 0, 5)
    
        bar.Parent = AHEHE
        bar.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
        bar.Size = UDim2.new(0, 260, 0, 5)
    
        bar1.Parent = bar
        bar1.BackgroundColor3 = _G.Color
        bar1.Size = UDim2.new(set / max, 0, 0, 5)
    
        bar1corner.CornerRadius = UDim.new(0, 5)
        bar1corner.Parent = bar1
    
        circlebar.Parent = bar1
        circlebar.BackgroundColor3 = Color3.fromRGB(225, 225, 225)
        circlebar.Position = UDim2.new(1, -2, 0, -3)
        circlebar.Size = UDim2.new(0, 10, 0, 10)
    
        UICorner.CornerRadius = UDim.new(0, 100)
        UICorner.Parent = circlebar
    
        slidervalue.Parent = sliderr
        slidervalue.BackgroundColor3 = _G.Color
        slidervalue.Position = UDim2.new(0, 220, 0, 5)
        slidervalue.Size = UDim2.new(0, 50, 0, 15)
    
        valuecorner.CornerRadius = UDim.new(0, 5)
        valuecorner.Parent = slidervalue
    
        TextBox.Parent = slidervalue
        TextBox.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
        TextBox.Position = UDim2.new(0, 1, 0, 1)
        TextBox.Size = UDim2.new(0, 48, 0, 13)
        TextBox.Font = Enum.Font.Code
        TextBox.TextColor3 = Color3.fromRGB(225, 225, 225)
        TextBox.TextSize = 9.0
        TextBox.Text = set
    
        UICorner_2.CornerRadius = UDim.new(0, 5)
        UICorner_2.Parent = TextBox
    
        local uis = game:GetService("UserInputService")
    
        local function updateSlider(input)
            local pos = math.clamp(input.Position.X - bar.AbsolutePosition.X, 0, 260)
            bar1.Size = UDim2.new(0, pos, 0, 5)
            circlebar.Position = UDim2.new(0, pos - 2, 0, -3)
    
            local Value = math.floor(((max - min) / 260) * pos + min)
            TextBox.Text = Value
            pcall(callback, Value)
        end
    
        AHEHE.InputBegan:Connect(function(input)
            if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
                updateSlider(input)
    
                local moveConnection
                local releaseConnection
    
                moveConnection = uis.InputChanged:Connect(function(movingInput)
                    if movingInput.UserInputType == Enum.UserInputType.MouseMovement or movingInput.UserInputType == Enum.UserInputType.Touch then
                        updateSlider(movingInput)
                    end
                end)
    
                releaseConnection = uis.InputEnded:Connect(function(endedInput)
                    if endedInput.UserInputType == Enum.UserInputType.MouseButton1 or endedInput.UserInputType == Enum.UserInputType.Touch then
                        moveConnection:Disconnect()
                        releaseConnection:Disconnect()
                    end
                end)
            end
        end)
    
        TextBox.FocusLost:Connect(function()
            local Value = tonumber(TextBox.Text) or set
            if Value < min then Value = min end
            if Value > max then Value = max end
            TextBox.Text = Value
            bar1.Size = UDim2.new((Value - min) / (max - min), 0, 0, 5)
            pcall(callback, Value)
        end)
    end
    
    function main:AddSliderL(text, min, max, set, callback)
        createSlider(MainFramePage, text, min, max, set, callback)
    end
    
    function main:AddSliderR(text, min, max, set, callback)
        createSlider(MainFramePage2, text, min, max, set, callback)
    end
    
    
    
    function main:AddTextbox(position, parentFrame, text, texts, disappear, callback)
        local Textbox = Instance.new("Frame")
        local TextboxCorner = Instance.new("UICorner")
        local TextboxInner = Instance.new("Frame")
        local TextboxInnerCorner = Instance.new("UICorner")
        local TextboxLabel = Instance.new("TextLabel")
        local txtbtn = Instance.new("TextButton")
        local RealTextbox = Instance.new("TextBox")
        local UICorner = Instance.new("UICorner")
    
        -- Textbox Properties
        Textbox.Name = "Textbox"
        Textbox.Parent = parentFrame
        Textbox.BackgroundColor3 = _G.Color
        Textbox.Size = UDim2.new(0, 280, 0, 57)
    
        TextboxCorner.CornerRadius = UDim.new(0, 5)
        TextboxCorner.Parent = Textbox
    
        -- Inner Frame
        TextboxInner.Name = "TextboxInner"
        TextboxInner.Parent = Textbox
        TextboxInner.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
        TextboxInner.Position = UDim2.new(0, 1, 0, 1)
        TextboxInner.Size = UDim2.new(0, 278, 0, 55)
    
        TextboxInnerCorner.CornerRadius = UDim.new(0, 5)
        TextboxInnerCorner.Parent = TextboxInner
    
        -- Label
        TextboxLabel.Name = "TextboxLabel"
        TextboxLabel.Parent = Textbox
        TextboxLabel.BackgroundTransparency = 1.0
        TextboxLabel.Position = UDim2.new(0, 15, 0, 8)
        TextboxLabel.Size = UDim2.new(0, 250, 0, 12)
        TextboxLabel.Font = Enum.Font.Code
        TextboxLabel.Text = text
        TextboxLabel.TextColor3 = Color3.fromRGB(225, 225, 225)
        TextboxLabel.TextStrokeColor3 = Color3.fromRGB(0, 0, 0) -- Shadow Effect
        TextboxLabel.TextStrokeTransparency = 0.5
        TextboxLabel.TextSize = 12.0
        TextboxLabel.TextXAlignment = Enum.TextXAlignment.Left
    
        -- Input Box
        RealTextbox.Name = "RealTextbox"
        RealTextbox.Parent = Textbox
        RealTextbox.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
        RealTextbox.Position = UDim2.new(0, 3, 0, 30)
        RealTextbox.Size = UDim2.new(0, 276, 0, 24)
        RealTextbox.Font = Enum.Font.Code
        RealTextbox.Text = texts
        RealTextbox.TextColor3 = Color3.fromRGB(255, 225, 225)
        RealTextbox.TextScaled = true
        RealTextbox.TextStrokeColor3 = Color3.fromRGB(0, 0, 0) -- Shadow Effect
        RealTextbox.TextStrokeTransparency = 0.5
        RealTextbox.TextSize = 11.0
    
        -- Disappear Effect
        RealTextbox.FocusLost:Connect(function()
            callback(RealTextbox.Text)
            if disappear then
                for i = 0, 1, 0.1 do
                    RealTextbox.TextTransparency = i
                    TextboxLabel.TextTransparency = i
                    task.wait(0.05)
                end
                RealTextbox.Text = ""
                TextboxLabel.TextTransparency = 0
                RealTextbox.TextTransparency = 0
            end
        end)
    
        -- Rounded Corners
        UICorner.CornerRadius = UDim.new(0, 5)
        UICorner.Parent = RealTextbox
    end
    
    -- Function Wrapper for Left & Right
    function main:AddTextboxL(text, texts, disappear, callback)
        self:AddTextbox("Left", MainFramePage, text, texts, disappear, callback)
    end
    
    function main:AddTextboxR(text, texts, disappear, callback)
        self:AddTextbox("Right", MainFramePage2, text, texts, disappear, callback)
    end
    
            
            function main:AddLabelL(text)
                local Label = Instance.new("TextLabel")
                local PaddingLabel = Instance.new("UIPadding")
                local labelfunc = {}
        
                Label.Name = "Label"
                Label.Parent = MainFramePage
                Label.BackgroundColor3 = Color3.fromRGB(51,255,255)
                Label.BackgroundTransparency = 1.000
                Label.Size = UDim2.new(0, 360, 0, 20)
                Label.Font = Enum.Font.Code
                Label.TextColor3 = Color3.fromRGB(225, 225, 225)
                Label.TextSize = 14.000
                Label.Text = text
                Label.TextXAlignment = Enum.TextXAlignment.Left
    
                PaddingLabel.PaddingLeft = UDim.new(0,15)
                PaddingLabel.Parent = Label
                PaddingLabel.Name = "PaddingLabel"
        
                function labelfunc:Set(newtext)
                Label.Text = newtext
            end
            return labelfunc
            end
    
            function main:AddLabelR(text)
                local Labell = Instance.new("TextLabel")
                local PaddingLabell = Instance.new("UIPadding")
                local labelfunc = {}
        
                Labell.Name = "Label"
                Labell.Parent = MainFramePage2
                Labell.BackgroundColor3 = Color3.fromRGB(51,255,255)
                Labell.BackgroundTransparency = 1.000
                Labell.Size = UDim2.new(0, 360, 0, 20)
                Labell.Font = Enum.Font.Code
                Labell.TextColor3 = Color3.fromRGB(225, 225, 225)
                Labell.TextSize = 14.000
                Labell.Text = text
                Labell.TextXAlignment = Enum.TextXAlignment.Left
    
                PaddingLabell.PaddingLeft = UDim.new(0,15)
                PaddingLabell.Parent = Labell
                PaddingLabell.Name = "PaddingLabel"
        
                function labelfunc:Set(newtext)
                Labell.Text = newtext
            end
            return labelfunc
            end
    
    
    function main:Label1(text)
                local Label1 = Instance.new("TextLabel")
                local PaddingLabel1 = Instance.new("UIPadding")
                local Label1func = {}
        
                Label1.Name = "Label1"
                Label1.Parent = MainFramePage
                Label1.BackgroundColor3 = Color3.fromRGB(51,255,255)
                Label1.BackgroundTransparency = 1.000
                Label1.Size = UDim2.new(0, 360, 0, 20)
                Label1.Font = Enum.Font.Code
                Label1.TextColor3 = Color3.fromRGB(225, 225, 225)
                Label1.TextSize = 15.000
                Label1.Text = text
                Label1.TextXAlignment = Enum.TextXAlignment.Left
    
                PaddingLabel1.PaddingLeft = UDim.new(0,15)
                PaddingLabel1.Parent = Label1
                PaddingLabel1.Name = "PaddingLabel1"
    function Label1func:Refresh(tochange)
     Label1.Text = tochange
    end
    
    return Label1func
    end
    
            function main:AddSeperatorL(text)
                local Seperator = Instance.new("Frame")
                local Sep1 = Instance.new("Frame")
                local Sep2 = Instance.new("TextLabel")
                local Sep3 = Instance.new("Frame")
                
                Seperator.Name = "Seperator"
                Seperator.Parent = MainFramePage
                Seperator.BackgroundColor3 = Color3.fromRGB(51,255,255)
                Seperator.BackgroundTransparency = 1.000
                Seperator.Size = UDim2.new(0, 280, 0, 20)
                
                Sep1.Name = "Sep1"
                Sep1.Parent = Seperator
                Sep1.BackgroundColor3 = _G.Color
                Sep1.BorderSizePixel = 0
                Sep1.Position = UDim2.new(0, 0, 0, 10)
                Sep1.Size = UDim2.new(0, 20, 0, 1)
                
                Sep2.Name = "Sep2"
                Sep2.Parent = Seperator
                Sep2.BackgroundColor3 = Color3.fromRGB(51,255,255)
                Sep2.BackgroundTransparency = 1.000
                Sep2.Position = UDim2.new(0, 0.01, 0, 0)
                Sep2.Size = UDim2.new(0, 280, 0, 20)
                Sep2.Font = Enum.Font.Code
                Sep2.Text = text
                Sep2.TextColor3 = Color3.fromRGB(51,255,255)
                Sep2.TextSize = 20.000
                
                Sep3.Name = "Sep3"
                Sep3.Parent = Seperator
                Sep3.BackgroundColor3 = _G.Color
                Sep3.BorderSizePixel = 0
                Sep3.Position = UDim2.new(0, 260, 0, 10)
                Sep3.Size = UDim2.new(0, 20, 0, 1)
            end
    
            function main:AddSeperatorR(text)
                local Seperator2 = Instance.new("Frame")
                local Sep4 = Instance.new("Frame")
                local Sep5 = Instance.new("TextLabel")
                local Sep6 = Instance.new("Frame")
                
                Seperator2.Name = "Seperator"
                Seperator2.Parent = MainFramePage2
                Seperator2.BackgroundColor3 = Color3.fromRGB(51,255,255)
                Seperator2.BackgroundTransparency = 1.000
                Seperator2.Size = UDim2.new(0, 280, 0, 20)
                
                Sep4.Name = "Sep1"
                Sep4.Parent = Seperator2
                Sep4.BackgroundColor3 = _G.Color
                Sep4.BorderSizePixel = 0
                Sep4.Position = UDim2.new(0, 0, 0, 10)
                Sep4.Size = UDim2.new(0, 20, 0, 1)
                
                Sep5.Name = "Sep2"
                Sep5.Parent = Seperator2
                Sep5.BackgroundColor3 = Color3.fromRGB(51,255,255)
                Sep5.BackgroundTransparency = 1.000
                Sep5.Position = UDim2.new(0, 0.01, 0, 0)
                Sep5.Size = UDim2.new(0, 280, 0, 20)
                Sep5.Font = Enum.Font.Code
                Sep5.Text = text
                Sep5.TextColor3 = Color3.fromRGB(51,255,255)
                Sep5.TextSize = 20.000
                
                Sep6.Name = "Sep3"
                Sep6.Parent = Seperator2
                Sep6.BackgroundColor3 = _G.Color
                Sep6.BorderSizePixel = 0
                Sep6.Position = UDim2.new(0, 260, 0, 10)
                Sep6.Size = UDim2.new(0, 20, 0, 1)
            end
    
    
            function main:AddLineL()
                local Linee = Instance.new("Frame")
                local Line = Instance.new("Frame")
                
                Linee.Name = "Linee"
                Linee.Parent = MainFramePage
                Linee.BackgroundColor3 = Color3.fromRGB(255,0,0)
                Linee.BackgroundTransparency = 1.000
                Linee.Position = UDim2.new(0, 0, 0.119999997, 0)
                Linee.Size = UDim2.new(0, 280, 0, 20)
                
                Line.Name = "Line"
                Line.Parent = Linee
                Line.BackgroundColor3 = _G.Color
                Line.BorderSizePixel = 0
                Line.Position = UDim2.new(0, 0, 0, 10)
                Line.Size = UDim2.new(0, 280, 0, 1)
            end
            
            function main:AddLineR()
                local Lineee = Instance.new("Frame")
                local Line1 = Instance.new("Frame")
                
                Lineee.Name = "Linee"
                Lineee.Parent = MainFramePage2
                Lineee.BackgroundColor3 = Color3.fromRGB(255,0,0)
                Lineee.BackgroundTransparency = 1.000
                Lineee.Position = UDim2.new(0, 0, 0.119999997, 0)
                Lineee.Size = UDim2.new(0, 280, 0, 20)
                
                Line1.Name = "Line"
                Line1.Parent = Lineee
                Line1.BackgroundColor3 = _G.Color
                Line1.BorderSizePixel = 0
                Line1.Position = UDim2.new(0, 0, 0, 10)
                Line1.Size = UDim2.new(0, 280, 0, 1)
            end
            
            return main
        end
        return uitab
    end

    if game.PlaceId == 15759515082 then
        World3 = true
	    MapPlaceId = "15759515082"
    elseif game.PlaceId == 6381829480 then
	    World2 = true
	    MapPlaceId = "6381829480"
    elseif game.PlaceId == 4520749081 then
	    World1 = true
	    MapPlaceId = "4520749081"
    end
    
    
spawn(function()
	while true do
		pcall(function()
		    local playerStats = game:GetService("Players").LocalPlayer.PlayerStats
		    if _G.SST.Select_Weapon == "Melee" then
			    WeaPon_Select = playerStats.FightingStyle.Value
			    TypeWeapon = "FS"
		    elseif _G.SST.Select_Weapon == "Sword" then
			    WeaPon_Select = playerStats.SwordName.Value
			    TypeWeapon = "SW"
		    elseif _G.SST.Select_Weapon == "Fruit" then
			    WeaPon_Select = playerStats.DFName.Value 
			    TypeWeapon = "DF"
		    end
		    wait(0) -- หยุดสักครู่ก่อนที่จะวน loop ต่อ
	    end)
    end
end)

    function Click()
        game:GetService("ReplicatedStorage").Chest.Remotes.Functions.SkillAction:InvokeServer(TypeWeapon .."_"..WeaPon_Select.."_M1")
    end


local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local LocalPlayer = Players.LocalPlayer

spawn(function()
    pcall(function()
        while task.wait() do
            local character = LocalPlayer.Character
            local HumanoidPlayer = character:FindFirstChild("Humanoid")
            if HumanoidPlayer.AutoRotate = true then
                HumanoidPlayer.AutoRotate = false
            end
        end
    end)
end)








spawn(function()
    pcall(function()
        while task.wait() do
            local character = LocalPlayer.Character
            local hrp = character and character:FindFirstChild("HumanoidRootPart")
            local HumanoidPlayer = character:FindFirstChild("Humanoid")
            
            if _G.SST.Auto_Farm_Level or Mob_Aura then
                if hrp and not hrp:FindFirstChild("BodyClip") then
                    local noclip = Instance.new("BodyVelocity")
                    noclip.Name = "BodyClip"
                    noclip.MaxForce = Vector3.new(1e5, 1e5, 1e5)
                    noclip.Velocity = Vector3.new(0, 0, 0)
                    noclip.Parent = hrp
                    HumanoidPlayer.AutoRotate = false
                end
            else
                if hrp then
                    local clip = hrp:FindFirstChild("BodyClip")
                    if clip then
                        clip:Destroy()
                        
                    end
                end
            end
        end
    end)
end)

    
  spawn(function()
        pcall(function()
            game:GetService("RunService").Stepped:Connect(function()
                if Auto_Farm_Level or Mob_Aura then
                    for _, v in pairs(game:GetService("Players").LocalPlayer.Character:GetDescendants()) do
                        if v:IsA("BasePart") then
                            v.CanCollide = false    
                        end
                    end
                end
            end)
        end)
    end)

    function EquipWeapon(ToolSe)
	    if game.Players.LocalPlayer.Backpack:FindFirstChild(ToolSe) then
		    getgenv().tool = game.Players.LocalPlayer.Backpack:FindFirstChild(ToolSe)
		    task.wait()
		    game.Players.LocalPlayer.Character.Humanoid:EquipTool(tool)
	    end
    end

function Haki()
    local NamePlayer = game:GetService("Players").LocalPlayer.Name
    if game:GetService("Workspace").PlayerCharacters:FindFirstChild(NamePlayer).Services.Haki.Value == 0  then
		game:GetService("ReplicatedStorage").Chest.Remotes.Events.Armament:FireServer()
			if game:GetService("Workspace").PlayerCharacters:FindFirstChild(NamePlayer).Services.KenOpen.Value == false then
				game:GetService("ReplicatedStorage").Chest.Remotes.Functions.KenEvent:InvokeServer()	
			end
	end
end

    function TP(Pos)
        game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = Pos
    end

    local RebornXerUiMain = Update:AddWindow("RebornXer Hub", "10039618734", Enum.KeyCode.RightControl)

    local MAIN = RebornXerUiMain:AddTab("Main", "6026568198")
    local DG = RebornXerUiMain:AddTab("Dungeon", "")
	local S = RebornXerUiMain:AddTab("Shop", "")
    local MS = RebornXerUiMain:AddTab("Misc", "")
    local DEVFUNCTION = RebornXerUiMain:AddTab("", "")
    local S = RebornXerUiMain:AddTabH("Top", "14134158045")
    
    MAIN:AddSeperatorL("Info")
    MAIN:AddLabelL("Wecome To RebornXer Hub Script")
    MAIN:AddLabelL("Map : King Legacy   : Version  " .. Version)
    Date = os.date("%d" .. " " .. "%B" .. " " .. "%Y")
    MAIN:AddLabelL("Day : " .. Date)
    MAIN:AddLineL("")

    MAIN:AddSeperatorL("Farm Level")
    MAIN:AddToggleL("Auto Farm Level",_G.SST.Auto_Farm_Level,function(value)
        Auto_Farm_Level = value
        _G.SST.Auto_Farm_Level = Auto_Farm_Level
        SS()
    end)
    MAIN:AddSeperatorL("")
 DistanceAura = _G.SST.DistanceAura or 1000

    MAIN:AddSliderL("Distance Mob Aura",1,5000,_G.SST.DistanceAura,function(value)
        DistanceAura = value
        _G.SST.DistanceAura = DistanceAura
        SS()
    end)
    MAIN:AddToggleL("Mob Aura",_G.SST.Mob_Aura,function(value)
        Mob_Aura = value
        _G.SST.Mob_Aura = Mob_Aura
        SS()
    end)
    
    spawn(function()
		while task.wait(0) do
			pcall(function()
				if _G.SST.Mob_Aura then
					for i,v in pairs(game:GetService("Workspace").Monster:GetChildren()) do
                        if v.Name == "Mon" or v.Name == "Boss" then
							for e,t in pairs(v:GetChildren()) do
						    	if t:FindFirstChild("Humanoid") and t:FindFirstChild("HumanoidRootPart") and t.Humanoid.Health > 0 and (t.HumanoidRootPart.Position-game:GetService("Players").LocalPlayer.Character.HumanoidRootPart.Position).magnitude <= _G.SST.DistanceAura then
							    	repeat task.wait(0)
										Haki()
                                		TP(t.HumanoidRootPart.CFrame * MethodFarm)
                                		Click()
							    	until not _G.SST.Mob_Aura or not t.Parent or t.Humanoid.Health <= 0
								end
						    end
                        end
					end
			    end
		    end)
		end
	end)

MAIN:AddDropdownR("Select Weapon", {"Melee","Sword","Fruit"},_G.SST.Select_Weapon, function(value)
    Select_Weapon = value
	_G.SST.Select_Weapon = Select_Weapon
	SS()
end)

MethodList = {"Behind","Below","Upper"}
MAIN:AddDropdownR("Select Method",MethodList,_G.SST.Select_Method,function(value)
    Select_Method = value
	_G.SST.Select_Method = Select_Method
	SS()
	if _G.SST.Select_Method == "Behind" then
                -- ไปด้านหลัง (Z)
                MethodFarm = CFrame.new(0, 0, _G.SST.DistanceMob) -- กำหนดพิกัดที่ด้านหลัง
            elseif _G.SST.Select_Method == "Below" then
                -- ไปข้างล่าง (Y) และหมุน 90 องศาในแกน X (เพื่อหมุนจากด้านล่าง)
                MethodFarm = CFrame.new(0, -_G.SST.DistanceMob, 0) * CFrame.Angles(math.rad(90), 0, 0)
            elseif _G.SST.Select_Method == "Upper" then
                -- ไปข้างบน (Y) และหมุน -90 องศาในแกน X (เพื่อหมุนจากด้านบน)
                MethodFarm = CFrame.new(0, _G.SST.DistanceMob, 0) * CFrame.Angles(math.rad(-90), 0, 0)
            else
                -- ค่าพื้นฐาน (หากไม่ตรงกับ "Behind", "Below", "Upper")
				MethodFarm = CFrame.new(0, 0, _G.SST.DistanceMob) -- กำหนดพิกัดที่ด้านหลัง
            end
end)


local DistanceMob = _G.SST.DistanceMob or 10
MAIN:AddSliderR("Distance",1,100,_G.SST.DistanceMob,function(value)
	DistanceMob = value
	_G.SST.DistanceMob = DistanceMob
	SS()
end)
